# generated: 2025-12-22T09:00:00+07:00
# project: project-alpha
# project_key: project-alpha-master
# tracking_system: file-system
# story_location: "{project-root}/_bmad-output/sprint-artifacts"

# STATUS DEFINITIONS:
# ==================
# Epic Status:
#   - backlog: Epic not yet started
#   - in-progress: Epic actively being worked on
#   - done: All stories in epic completed
#
# Story Status:
#   - backlog: Story only exists in epic file
#   - ready-for-dev: Story file created, ready for development
#   - in-progress: Developer actively working on implementation
#   - review: Implementation complete, ready for review
#   - done: Story completed
#
# Retrospective Status:
#   - optional: Can be completed but not required
#   - done: Retrospective has been completed
#
# WORKFLOW NOTES:
# ===============
# - Mark epic as 'in-progress' when starting work on its first story
# - SM typically creates next story ONLY after previous one is 'done' to incorporate learnings
# - Dev moves story to 'review', then Dev runs code-review (fresh context, ideally different LLM)

generated: 2025-12-22T09:00:00+07:00
project: project-alpha
project_key: project-alpha-master
tracking_system: file-system
story_location: "_bmad-output/sprint-artifacts"

current_sprint:
  name: "Sprint 13 - Terminal & Sync Stability"
  start_date: 2025-12-20
  priority_epic: 13
  notes: "Epic 13 is P0 priority - critical bug fixes blocking 14-step validation sequence"

development_status:
  # =============================================================================
  # EPIC 1: Project Foundation & IDE Shell [DONE]
  # =============================================================================
  epic-1: done
  1-1-initialize-tanstack-start-project: done
  1-2-configure-core-dependencies: done
  1-3-create-route-structure: done
  1-4-implement-ide-layout-shell: done
  1-5-configure-coop-coep-headers: done
  epic-1-retrospective: done

  # =============================================================================
  # EPIC 2: WebContainers Integration [DONE]
  # =============================================================================
  epic-2: done
  2-1-create-webcontainers-manager: done
  2-2-implement-terminal-adapter: done
  2-3-create-xterminal-component: done
  2-4-implement-process-management: done
  epic-2-retrospective: done

  # =============================================================================
  # EPIC 3: File System Access Layer [DONE] (8 stories including hotfix)
  # =============================================================================
  epic-3: done
  3-1-implement-local-fs-adapter: done
  3-2-implement-filetree-component: done
  3-3-implement-sync-manager: done
  3-4-handle-directory-permission-lifecycle: done
  3-5-implement-folder-switching: done
  3-6-implement-sync-status-ui: done
  3-7-implement-project-metadata-persistence: done
  3-8-implement-workspace-context: done
  epic-3-retrospective: done

  # =============================================================================
  # EPIC 4: IDE Components [DONE]
  # =============================================================================
  epic-4: done
  4-0-2-wire-dashboard-to-projectstore: done
  4-1-implement-monaco-editor-component: done
  4-2-wire-editor-to-sync-manager: done
  4-3-implement-preview-panel: done
  4-4-implement-chat-panel-shell: done
  epic-4-retrospective: done

  # =============================================================================
  # EPIC 5: Persistence Layer [DONE]
  # =============================================================================
  epic-5: done
  5-1-set-up-indexeddb-schema: done
  5-2-implement-project-store: done
  5-3-implement-conversation-store: done
  5-4-implement-ide-state-store: done
  epic-5-retrospective: done

  # =============================================================================
  # EPIC 10: Event Bus Architecture [IN PROGRESS - INFRASTRUCTURE ONLY]
  # =============================================================================
  # CORRECTED: 2025-12-21 - Gap analysis by Platform A found ALL stories DONE
  # Evidence: 26+ .emit() calls in sync-manager.ts, FileTreeItem.tsx has per-file icons
  # =============================================================================
  epic-10: done
  10-1-create-event-bus-infrastructure: done
    completed_at: "2025-12-20"  # Prior session
  10-2-refactor-syncmanager-to-emit-events: done
    completed_at: "2025-12-21T14:00:00+07:00"
    notes: "26+ .emit() calls found in sync-manager.ts via code analysis"
  10-3-add-manual-sync-toggle: done
    completed_at: "2025-12-21T14:00:00+07:00"
    notes: "autoSync state + toggle UI in IDEHeaderBar.tsx verified"
  10-4-implement-per-file-sync-status: done
    completed_at: "2025-12-21T14:00:00+07:00"
    notes: "FileTreeItem.tsx lines 38-40, 102-132 implement per-file icons"
  10-5-create-sync-exclusion-configuration: done
    completed_at: "2025-12-20"  # Prior session
  10-6-wire-syncmanager-event-emissions: done
    completed_at: "2025-12-21T14:00:00+07:00"
    notes: "Duplicate of 10-2, emissions already wired"
  10-7-wire-ui-components-to-event-bus: done
    completed_at: "2025-12-21T14:00:00+07:00"
    notes: "FileTreeItem uses fileSyncStatusStore for reactive updates"
  epic-10-retrospective: done
    completed_at: "2025-12-21T14:05:00+07:00"

  # =============================================================================
  # EPIC 13: Terminal & Sync Stability [P0 - IN PROGRESS]
  # =============================================================================
  # Priority: P0 - Highest (Blocks 14-step validation)
  # Added: Course Correction v5 (2025-12-20)
  # Updated: 2025-12-20 - Added Story 13-6 per manual testing
  # =============================================================================
  epic-13: done
  13-1-fix-terminal-working-directory: done
  13-2-fix-auto-sync-on-project-load: done
  13-3-add-sync-progress-indicator: done
  13-4-preserve-file-tree-state: done
  13-5-improve-permission-restoration: done
  13-6-fix-preview-in-new-tab: done
    context: _bmad-output/sprint-artifacts/13-6-fix-preview-in-new-tab-context.xml
    story: _bmad-output/sprint-artifacts/13-6-fix-preview-in-new-tab.md
  epic-13-retrospective: done
    artifact: _bmad-output/sprint-artifacts/epic-13-retrospective.md

  # =============================================================================
  # EPIC 22: Production Hardening [P0 - READY]
  # =============================================================================
  # Priority: P0 - Highest (Addresses production-readiness gaps)
  # Added: Course Correction v6 (2025-12-20)
  # Trigger: production-readiness-epic-13-report.md
  # =============================================================================
  epic-22: done
  22-1-implement-security-headers: done
  22-2-create-cicd-pipeline: done
    story: _bmad-output/sprint-artifacts/22-2-create-cicd-pipeline.md
    context: _bmad-output/sprint-artifacts/22-2-create-cicd-pipeline-context.xml
  22-3-add-integration-tests: done
    story: _bmad-output/sprint-artifacts/22-3-add-integration-tests.md
    context: _bmad-output/sprint-artifacts/22-3-add-integration-tests-context.xml
    platform: "Platform A"
    drafted_at: "2025-12-21T12:20:00+07:00"
    ready_at: "2025-12-21T12:25:00+07:00"
    dev_started_at: "2025-12-21T12:25:00+07:00"
    dev_completed_at: "2025-12-21T12:45:00+07:00"
    review_completed_at: "2025-12-21T13:05:00+07:00"
    tests_added: 30
    reviewer: "Platform A"
  22-4-configure-error-monitoring: done
    story: _bmad-output/sprint-artifacts/22-4-configure-error-monitoring.md
    context: _bmad-output/sprint-artifacts/22-4-configure-error-monitoring-context.xml
    platform: "Platform A"
    drafted_at: "2025-12-21T13:15:00+07:00"
    ready_at: "2025-12-21T13:18:00+07:00"
    dev_started_at: "2025-12-21T13:08:00+07:00"
    review_submitted_at: "2025-12-21T13:25:00+07:00"
    review_completed_at: "2025-12-21T13:28:00+07:00"
    reviewer: "Platform A"
  22-5-create-deployment-docs: done
    story: _bmad-output/sprint-artifacts/22-5-create-deployment-docs.md
    context: _bmad-output/sprint-artifacts/22-5-create-deployment-docs-context.xml
    platform: "Platform A"
    drafted_at: "2025-12-21T13:30:00+07:00"
    dev_started_at: "2025-12-21T13:32:00+07:00"
    review_completed_at: "2025-12-21T13:38:00+07:00"
    reviewer: "Platform A"
  22-6-establish-performance-benchmarks: done
    story: _bmad-output/sprint-artifacts/22-6-establish-performance-benchmarks.md
    platform: "Platform A"
    completed_at: "2025-12-21T13:42:00+07:00"
  22-7-enable-typescript-strict: done
    story: _bmad-output/sprint-artifacts/22-7-enable-typescript-strict.md
    platform: "Platform A"
    completed_at: "2025-12-21T13:42:00+07:00"
    notes: "Already implemented - verified tsconfig.json has strict:true"
  22-8-add-eslint-prettier: done
    story: _bmad-output/sprint-artifacts/22-8-add-eslint-prettier.md
    platform: "Platform A"
    completed_at: "2025-12-21T13:45:00+07:00"
  epic-22-retrospective: done
    file: _bmad-output/sprint-artifacts/epic-22-retrospective.md
    completed_at: "2025-12-21T13:48:00+07:00"

  # =============================================================================
  # EPIC 23: UX/UI Modernization [P1 - IN_PROGRESS - Platform B]
  # =============================================================================
  # Priority: P1 - High (User experience improvement)
  # Platform: B (Second AI Agent)
  # Note: Parallel execution with Epic 22
  # =============================================================================
  epic-23: in-progress
  23-1-install-tailwindcss-4: done
    story: _bmad-output/sprint-artifacts/23-1-install-tailwindcss-4.md
    context: _bmad-output/sprint-artifacts/23-1-install-tailwindcss-4-context.xml
  23-2-initialize-shadcnui: done
    story: _bmad-output/sprint-artifacts/23-2-initialize-shadcnui.md
    context: _bmad-output/sprint-artifacts/23-2-initialize-shadcnui-context.xml
    completed_at: "2025-12-20"
    implementation:
      components_installed: 14
      theme_system: "dark-mode-default"
      files_changed: 18
      tests_passing: 196
    review:
      status: approved
      reviewer: "code-reviewer"
      date: "2025-12-20T19:26:00+07:00"
      issues_found: 0
      recommendations: 5
  23-3-migrate-layout-components: review
    story: _bmad-output/sprint-artifacts/23-3-migrate-layout-components.md
    context: _bmad-output/sprint-artifacts/23-3-migrate-layout-components-context.xml
    started_at: "2025-12-20"
    completed_at: "2025-12-21T02:52:00+07:00"
    assigned_to: "dev"
    assignment_date: "2025-12-20T19:35:00+07:00"
  23-4-migrate-ide-panel-components: done
    story: _bmad-output/sprint-artifacts/23-4-migrate-ide-panel-components.md
    context: _bmad-output/sprint-artifacts/23-4-migrate-ide-panel-components-context.xml
    platform: "Platform B"
    drafted_at: "2025-12-21T12:54:00+07:00"
    started_at: "2025-12-21T13:05:00+07:00"
    dev_completed_at: "2025-12-21T13:38:00+07:00"
    review:
      status: approved
      reviewer: "Platform B"
      review_completed_at: "2025-12-21T13:41:00+07:00"
    tests_passing: 240
  23-5-implement-theme-toggle: done
    story: _bmad-output/sprint-artifacts/23-5-implement-theme-toggle.md
    context: _bmad-output/sprint-artifacts/23-5-implement-theme-toggle-context.xml
    platform: "Platform B"
    drafted_at: "2025-12-21T13:45:00+07:00"
    ready_at: "2025-12-21T13:52:00+07:00"
    dev_started_at: "2025-12-21T13:56:00+07:00"
    dev_completed_at: "2025-12-21T13:58:00+07:00"
    tests_added: 1
    review_completed_at: "2025-12-21T14:00:00+07:00"
    reviewer: "Platform B"
  23-6-migrate-form-dialog-components: in-progress
    story: _bmad-output/sprint-artifacts/23-6-migrate-form-dialog-components.md
    context: _bmad-output/sprint-artifacts/23-6-migrate-form-dialog-components-context.xml
    platform: "Platform B"
    created_at: "2025-12-21T14:00:00+07:00"
    assigned_to: "dev"
    assigned_at: "2025-12-21T16:19:00+07:00"
    handoff: "_bmad-output/handoffs/dev-epic-23-story-23-6-2025-12-21-1615.md"
  23-7-accessibility-audit: backlog
  23-8-component-documentation: backlog
  # =============================================================================
  # EPIC 23: UX/UI Modernization [COURSE CORRECTION v7 - EXTENDED]
  # Date: 2025-12-21
  # Reason: Extended per UX Specification v2.0 to cover Agent Management Dashboard,
  #         Enhanced Project UI, Collapsible IDE Sidebar, and Agent Chat Interface
  # Platform: B (Second Agent)
  # Total Stories: 16 (8 existing + 8 new)
  # =============================================================================
  
  # NEW STORIES - Phase 1: Foundation (Stories 23-9, 23-10, 23-14)
  23-9-agent-management-dashboard: backlog
    story: _bmad-output/sprint-artifacts/23-9-agent-management-dashboard.md
    context: _bmad-output/sprint-artifacts/23-9-agent-management-dashboard-context.xml
    platform: "Platform B"
    priority: "P1"
    points: 5
    notes: "Agent Dashboard Layout with sidebar navigation and list view"
    
  23-10-agent-configuration-forms: backlog
    story: _bmad-output/sprint-artifacts/23-10-agent-configuration-forms.md
    context: _bmad-output/sprint-artifacts/23-10-agent-configuration-forms-context.xml
    platform: "Platform B"
    priority: "P1"
    points: 5
    notes: "Agent configuration with LLM provider, tools, and safety settings"
    
  23-14-collapsible-ide-sidebar: backlog
    story: _bmad-output/sprint-artifacts/23-14-collapsible-ide-sidebar.md
    context: _bmad-output/sprint-artifacts/23-14-collapsible-ide-sidebar-context.xml
    platform: "Platform B"
    priority: "P1"
    points: 5
    notes: "Icon-based sidebar with dynamic content panels"
    
  # NEW STORIES - Phase 2: Advanced Features (Stories 23-11, 23-12, 23-15)
  23-11-tool-registry-workflow-editor: backlog
    story: _bmad-output/sprint-artifacts/23-11-tool-registry-workflow-editor.md
    context: _bmad-output/sprint-artifacts/23-11-tool-registry-workflow-editor-context.xml
    platform: "Platform B"
    priority: "P1"
    points: 8
    notes: "Tool Registry and Visual Workflow Editor (Waits for Epic 25)"
    
  23-12-llm-provider-analytics: backlog
    story: _bmad-output/sprint-artifacts/23-12-llm-provider-analytics.md
    context: _bmad-output/sprint-artifacts/23-12-llm-provider-analytics-context.xml
    platform: "Platform B"
    priority: "P1"
    points: 5
    notes: "Provider management and analytics dashboard"
    
  23-15-agent-chat-interface: backlog
    story: _bmad-output/sprint-artifacts/23-15-agent-chat-interface.md
    context: _bmad-output/sprint-artifacts/23-15-agent-chat-interface-context.xml
    platform: "Platform B"
    priority: "P1"
    points: 8
    notes: "Robust chat with plan approval and tool execution logs (Waits for Epic 25)"
    
  # NEW STORIES - Phase 3: Polish & Integration (Stories 23-13, 23-16)
  23-13-enhanced-project-dashboard: backlog
    story: _bmad-output/sprint-artifacts/23-13-enhanced-project-dashboard.md
    context: _bmad-output/sprint-artifacts/23-13-enhanced-project-dashboard-context.xml
    platform: "Platform B"
    priority: "P2"
    points: 3
    notes: "Enhanced project cards with activity metrics and agent indicators"
    
  23-16-component-library-design-system: backlog
    story: _bmad-output/sprint-artifacts/23-16-component-library-design-system.md
    context: _bmad-output/sprint-artifacts/23-16-component-library-design-system-context.xml
    platform: "Platform B"
    priority: "P2"
    points: 5
    notes: "Complete design system with colors, typography, and i18n guide"

  # =============================================================================
  # Priority: P0 - CRITICAL (Technical debt blocking AI Foundation)
  # Added: 2025-12-21 - Per tech-debt-architecture-gaps-report.md
  # Depends on: None
  # Blocks: Epic 25 (AI Foundation), Epic 24 (Smart Dependency Sync)
  # GOVERNANCE UPDATE: 2025-12-21T23:15:00+07:00 - Statuses corrected per integration audit
  # =============================================================================
  epic-27: in-progress
  27-1-migrate-state-zustand-dexie: integration-pending
    story: _bmad-output/sprint-artifacts/27-1-migrate-state-zustand-dexie.md
    platform: "Platform A"
    completed_at: "2025-12-21T17:45:00+07:00"
    notes: |
      Infrastructure complete. Zustand store + Dexie.js schema v1 created.
      ‚ö†Ô∏è INTEGRATION PENDING: Not all consumers verified to use new stores.
  27-1b-component-migration-zustand-dexie: integration-pending
    story: _bmad-output/sprint-artifacts/27-1b-component-migration-zustand-dexie.md
    platform: "Platform A"
    completed_at: "2025-12-21T18:00:00+07:00"
    notes: |
      Removed @tanstack/react-store from package.json.
      ‚ö†Ô∏è INTEGRATION PENDING: Need to verify all components use new stores.
  27-1c-persistence-migration-dexie: integration-pending
    story: _bmad-output/sprint-artifacts/27-1c-persistence-migration-dexie.md
    context: _bmad-output/sprint-artifacts/27-1c-persistence-migration-dexie-context.xml
    platform: "Platform A"
    drafted_at: "2025-12-21T18:30:00+07:00"
    dev_started_at: "2025-12-21T19:00:00+07:00"
    completed_at: "2025-12-21T20:52:00+07:00"
    tests_added: 12
    notes: |
      Core migration complete: idb ‚Üí Dexie.js.
      AI Foundation tables added (taskContexts, toolExecutions).
      ‚ö†Ô∏è INTEGRATION PENDING: Old idb usage may still exist in some files.
  27-2-event-bus-integration: integration-pending
    story: _bmad-output/sprint-artifacts/27-2-event-bus-integration.md
    context: _bmad-output/sprint-artifacts/27-2-event-bus-integration-context.xml
    platform: "Platform A"
    drafted_at: "2025-12-21T22:00:00+07:00"
    ready_for_dev_at: "2025-12-21T22:00:00+07:00"
    completed_at: "2025-12-21T22:15:00+07:00"
    notes: |
      Event emissions added to WebContainer manager and terminal adapter.
      ‚ö†Ô∏è INTEGRATION PENDING: Subscriptions not verified end-to-end.
  27-3-fix-tailwindcss-z-index: needs-validation
    notes: "Underlying bug not verified"
  27-4-fix-terminal-pnpm-version: needs-validation
    notes: "Underlying bug not verified"
  27-5-fix-production-ssr-entry: INVALID
    notes: "Bug does not exist - production works correctly"
  # NEW: Integration story to complete Epic 27
  27-I-complete-state-integration: done
    story: _bmad-output/sprint-artifacts/27-I-complete-state-integration.md
    context: _bmad-output/sprint-artifacts/27-I-complete-state-integration-context.xml
    platform: "Platform A"
    created_at: "2025-12-21T23:15:00+07:00"
    started_at: "2025-12-22T01:45:00+07:00"
    review_at: "2025-12-22T02:20:00+07:00"
    priority: P0
    tests_passing: 24
    tests_total: 27
    notes: |
      All 16 tasks complete.
      Tests: 24/27 passing (2 pre-existing IDELayout failures).
      Code review complete - APPROVED.


  # =============================================================================
  # EPIC 27 Phase 2: Code Organization (Absorbed from Epic 11)
  # Per master plan: implementation_plan.md Phase 2
  # =============================================================================
  27-5a-refactor-idelayout: done
    priority: P1
    points: 5
    story: _bmad-output/sprint-artifacts/27-5a-refactor-idelayout.md
    context: _bmad-output/sprint-artifacts/27-5a-refactor-idelayout-context.xml
    platform: "Platform A"
    drafted_at: "2025-12-22T02:31:00+07:00"
    started_at: "2025-12-22T02:32:00+07:00"
    completed_at: "2025-12-22T02:50:00+07:00"
    notes: "IDELayout.tsx refactored from 590‚Üí174 lines. 5 hooks/components extracted."
    source: "Epic 11-5 (absorbed)"
    
  27-5b-refactor-sync-manager: backlog
    priority: P1
    points: 3
    notes: "Refactor sync-manager.ts from 405 lines to <250 lines"
    source: "Epic 11 scope"
    
  27-5c-refactor-project-store: backlog
    priority: P1
    points: 3
    notes: "Refactor project-store.ts from 326 lines to <250 lines"
    source: "New"
    
  27-6-reorganize-filesystem: backlog
    priority: P1
    points: 5
    notes: "Reorganize lib/filesystem from 27 files to grouped structure (core/, adapter/, sync/, util/)"
    source: "New per master plan"
    
  27-7-reorganize-workspace: backlog
    priority: P1
    points: 3
    notes: "Reorganize lib/workspace from 16 files to grouped structure (hooks/, stores/)"
    source: "New per master plan"
    
  27-8-terminal-sync-fail-warning: done
    priority: P0
    points: 2
    completed_at: "2025-12-22T01:55:00+07:00"
    notes: "Added syncError and syncTimeout props to XTerminal. Terminal starts with warning after timeout."

  # =============================================================================
  # PHASE 2: Architectural Slices Analysis [DONE]
  # =============================================================================
  # Completed: 2025-12-22 - Comprehensive architectural documentation
  # Platform: Platform A (Architect)
  # =============================================================================
  phase-2-architectural-slices: done
    platform: "Platform A"
    started_at: "2025-12-22T10:48:00+07:00"
    completed_at: "2025-12-22T11:47:00+07:00"
    notes: |
      Phase 2 Architectural Slices analysis completed with 4 comprehensive documents:
      1. Runtime Architecture Slice - architecture.md with C4-style diagrams
      2. Data & Contracts Slice - data-and-contracts-2025-12-22-1105.md with entity tables
      3. Control & Workflow Slice - flows-and-workflows-2025-12-22-1121.md with sequence diagrams
      4. Dependency & Tech Context Slice - tech-context-2025-12-22-1127.md with dependency analysis
    artifacts:
      - "_bmad-output/architecture/architecture.md"
      - "_bmad-output/architecture/data-and-contracts-2025-12-22-1105.md"
      - "_bmad-output/architecture/flows-and-workflows-2025-12-22-1121.md"
      - "_bmad-output/architecture/tech-context-2025-12-22-1127.md"
      - "_bmad-output/architecture/phase2-architectural-slices-completion-2025-12-22-1132.md"

  # =============================================================================
  # EPIC 28: UX Brand Identity & Design System [IN-PROGRESS]
  # Created: 2025-12-22 - Absorbs Epic 23 gaps, establishes premium design system
  # Platform: Platform B
  # =============================================================================
  epic-28: in-progress
    platform: "Platform B"
    started_at: "2025-12-22T05:35:00+07:00"
    notes: |
      Transforms Via-Gent's generic ShadcnUI into premium MistralAI-inspired 8-bit aesthetic.
      Absorbs gaps from Epic 23: design tokens, pixel fonts, brand components, collapsible sidebar.
      Full EN/VI localization for Vietnamese market focus.
  
  # Phase 1: Design Foundation
  28-1-override-design-tokens: done
    priority: P0
    points: 5
    story: _bmad-output/sprint-artifacts/28-1-override-design-tokens.md
    platform: "Platform B"
    created_at: "2025-12-22T05:35:00+07:00"
    started_at: "2025-12-22T05:45:00+07:00"
    completed_at: "2025-12-22T06:00:00+07:00"
    notes: |
      Created design-tokens.css (~170 lines) with VIA-GENT orange brand.
      Updated styles.css with hsl() wrapped color variables for Tailwind 4.x.
      Migrated index.tsx and Onboarding.tsx from cyan to primary colors.
      Browser verified: orange logo, buttons, accents rendering correctly.
    
  28-2-configure-8bit-typography: done
    priority: P0
    points: 3
    story: _bmad-output/sprint-artifacts/28-2-configure-8bit-typography.md
    platform: "Platform B"
    created_at: "2025-12-22T05:50:00+07:00"
    started_at: "2025-12-22T05:51:00+07:00"
    completed_at: "2025-12-22T05:55:00+07:00"
    notes: |
      Added Google Fonts: VT323, Press Start 2P, Inter, JetBrains Mono.
      Created .font-pixel, .font-pixel-heavy, .text-pixel-* utility classes.
      Applied pixel fonts to VIA-GENT logo and dashboard title.
      Browser verified: VT323 rendering correctly on all brand elements.
    
  28-3-create-brand-components: done
    priority: P0
    points: 5
    story: _bmad-output/sprint-artifacts/28-3-create-brand-components.md
    platform: "Platform B"
    completed_at: "2025-12-22T06:05:00+07:00"
    notes: |
      Created BrandLogo with pixel "V" icon and size variants.
      Created PixelBadge with 6 color variants and pixel shadows.
      Created StatusDot with pulse animation for agent status.
      Updated dashboard to use brand components.
      Browser verified: all components rendering correctly.
    
  28-4-implement-pixel-buttons: done
    priority: P1
    points: 3
    platform: "Platform B"
    completed_at: "2025-12-22T06:20:00+07:00"
    notes: |
      Added pixel, pixel-primary, pixel-outline, pixel-ghost variants.
      Made all buttons squared (rounded-none) for 8-bit aesthetic.
      Added press animation with translate and shadow changes.
    
  # Phase 2: IDE Layout Revolution
  28-5-build-icon-sidebar: done
    priority: P0
    points: 8
    platform: "Platform B"
    completed_at: "2025-12-22T06:30:00+07:00"
    notes: |
      Created IconSidebar with ActivityBar (48px), SidebarContent (280px).
      Added SidebarProvider context with localStorage persistence.
      Implemented Ctrl+B keyboard shortcut toggle.
      Absorbs 23-14-collapsible-ide-sidebar.
    absorbs: "23-14-collapsible-ide-sidebar"
    
  28-6-create-content-panels: done
    priority: P0
    points: 5
    platform: "Platform B"
    completed_at: "2025-12-22T06:35:00+07:00"
    notes: |
      Created ExplorerPanel, AgentsPanel, SearchPanel, SettingsPanel.
      All panels use consistent SidebarHeader styling.
      Empty states and actions implemented for all panels.
    
  28-7-modernize-panel-shells: done
    priority: P0
    points: 5
    platform: "Platform B"
    completed_at: "2025-12-22T06:40:00+07:00"
    notes: |
      Created PanelShell with pixel aesthetic headers.
      Added SimplePanelHeader for retrofitting existing panels.
      Fullscreen toggle and window controls implemented.
    absorbs: "23-4-ide-panel-components (gaps)"
    
  28-8-custom-scrollbar-polish: done
    priority: P1  
    points: 3
    platform: "Platform B"
    completed_at: "2025-12-22T06:45:00+07:00"
    notes: |
      Added premium scrollbar styling to styles.css.
      Created .scrollbar-thin, .no-scrollbar, .scrollbar-primary utilities.
      Firefox scrollbar-color support included.
    
  # Phase 3: Agent Interfaces
  28-9-agent-dashboard-components: done
    priority: P1
    points: 5
    platform: "Platform B"
    completed_at: "2025-12-22T06:50:00+07:00"
    notes: |
      Created AgentCard with status indicators and action menus.
      Created MetricsCard for dashboard stats display.
      Pixel aesthetic with shadows and hover effects.
    absorbs: "23-9-agent-management-dashboard"
    
  28-10-enhanced-chat-interface: done
    priority: P1
    points: 5
    platform: "Platform B"
    completed_at: "2025-12-22T06:55:00+07:00"
    notes: |
      Created EnhancedChatInterface with message bubbles.
      Tool execution log with expandable details.
      Typing indicator with bounce animation.
      Auto-scroll and pixel aesthetic styling.
    absorbs: "23-15-agent-chat-interface"
    
  # Phase 4: Localization & Polish
  28-11-complete-localization: backlog
    priority: P1
    points: 5
    notes: "Full EN/VI coverage for Vietnamese market"
    
  28-12-footer-status-bar: backlog
    priority: P2
    points: 3
    notes: "VS Code-style status bar with git, cursor, file info"
    
  # Phase 5: Integration Enforcement (Course Correction)
  28-13-full-ui-integration-audit: done
    priority: P0
    points: 8
    platform: "Platform B"
    completed_at: "2025-12-22T19:30:00+07:00"
    notes: |
      Grep audit confirmed no banned colors in routes.
      All bg-slate, text-slate, bg-cyan, text-cyan removed.
      
  28-14-wire-icon-sidebar: done
    priority: P0
    points: 5
    platform: "Platform B"
    completed_at: "2025-12-22T19:40:00+07:00"
    notes: |
      CRITICAL INTEGRATION: IconSidebar now wired into IDELayout.
      SidebarProvider, ActivityBar (48px), SidebarContent (280px) integrated.
      SidebarPanelRenderer switches between Explorer/Agents/Search/Settings.
      Ctrl+B toggle verified working in browser.
      Screenshot proof: ide_new_layout_verification_1766407086711.png
      
  28-15-mock-agent-states: done
    priority: P0
    points: 5
    platform: "Platform B"
    completed_at: "2025-12-22T19:55:00+07:00"
    notes: |
      Created src/mocks/agents.ts with 6 mock agents.
      Created src/hooks/useAgents.ts with CRUD operations.
      Wired useAgents to AgentsPanel - shows 6 agents.
      Browser verified: agents_panel_verification_1766407350312.png
      JSDoc references Epic 25 for future backend replacement.
    
  28-16-agent-config-flow: done
    story: _bmad-output/sprint-artifacts/28-16-agent-config-flow.md
    context: _bmad-output/sprint-artifacts/28-16-agent-config-flow-context.xml
    platform: "Platform B"
    drafted_at: "2025-12-22T20:30:00+07:00"
    dev_started_at: "2025-12-22T20:35:00+07:00"
    dev_completed_at: "2025-12-22T20:50:00+07:00"
    priority: P1
    points: 5
    tests_passing: 5
    files_changed: 4
    notes: |
      AgentConfigDialog with provider/model selection, form validation.
      Pixel aesthetic (squared corners, orange buttons).
      Full EN/VI i18n coverage.
      Browser verified with screenshot proof.
    
  28-17-visual-verification-report: backlog
    priority: P0
    points: 3
    notes: "Screenshots + grep proof + before/after comparison"
  
  # Phase 6: AI Foundation Integration Readiness (Course Correction 2025-12-22)
  # Tier 1: Critical Chat + Tool Visibility (Required for Epic 25 integration)
  28-18-statusbar-connection-indicators: done
    priority: P0
    points: 3
    story: _bmad-output/sprint-artifacts/28-18-statusbar-connection-indicators.md
    context: _bmad-output/sprint-artifacts/28-18-statusbar-connection-indicators-context.xml
    platform: "Platform B"
    drafted_at: "2025-12-22T21:45:00+07:00"
    completed_at: "2025-12-22T22:20:00+07:00"
    notes: "StatusBar with WebContainer/Provider/Sync status indicators. Fixed infinite loop bug."
    integrates: "Epic 10, Epic 25, Epic 26"
    analysis: "_bmad-output/analysis/epic-28-holistic-integration-analysis.md"
    
  28-19-chat-tool-call-badge: done
    priority: P0
    points: 5
    story: _bmad-output/sprint-artifacts/28-19-chat-tool-call-badge.md
    context: _bmad-output/sprint-artifacts/28-19-chat-tool-call-badge-context.xml
    platform: "Platform B"
    drafted_at: "2025-12-22T22:35:00+07:00"
    completed_at: "2025-12-22T22:40:00+07:00"
    tests_pass: 18
    tests_total: 18
    notes: "ToolCallBadge + ToolCallBadgeGroup. Tooltip component created. AC-5 deferred to 28-20."
    integrates: "Epic 6, Epic 12, Epic 25"
    
  28-20-chat-code-block-with-actions: done
    priority: P0
    points: 5
    story: _bmad-output/sprint-artifacts/28-20-chat-code-block-with-actions.md
    context: _bmad-output/sprint-artifacts/28-20-chat-code-block-with-actions-context.xml
    platform: "Platform B"
    drafted_at: "2025-12-22T22:45:00+07:00"
    completed_at: "2025-12-22T22:53:00+07:00"
    tests_pass: 20
    tests_total: 20
    notes: "CodeBlock with syntax highlighting, copy, Accept/Reject actions. Wired into EnhancedChatInterface."
    integrates: "Epic 6, Epic 25-5, Story 28-19"
    
  28-21-diff-preview-component: done
    priority: P0
    points: 5
    story: _bmad-output/sprint-artifacts/28-21-diff-preview-component.md
    context: _bmad-output/sprint-artifacts/28-21-diff-preview-component-context.xml
    platform: "Platform B"
    drafted_at: "2025-12-22T22:59:00+07:00"
    completed_at: "2025-12-22T23:55:00+07:00"
    tests_count: 10
    notes: "DiffPreview showing file changes with syntax highlighting"
    integrates: "Epic 6, Epic 25-5, Story 28-20"
    
  28-22-approval-overlay-component: done
    priority: P0
    points: 5
    story: _bmad-output/sprint-artifacts/28-22-approval-overlay-component.md
    context: _bmad-output/sprint-artifacts/28-22-approval-overlay-component-context.xml
    platform: "Platform B (Antigravity)"
    drafted_at: "2025-12-22T17:21:00+07:00"
    completed_at: "2025-12-23T01:35:00+07:00"
    tests_count: 19
    tests_passing: 19
    notes: "ApprovalOverlay with mock trigger integrated. 19/19 tests pass. Includes fix for inline mode bug."
    integrates: "Epic 25-5"
    
  28-23-streaming-message-container: backlog
    priority: P0
    points: 3
    notes: "StreamingMessage component for token-by-token AI response display"
    integrates: "Epic 6, Epic 25-1"
  
  # Tier 2: Event Bus Subscriptions (Required for Tool‚ÜíUI sync)
  28-24-filetree-event-subscriptions: backlog
    priority: P1
    points: 3
    notes: "FileTree subscribes to file:created, file:deleted, file:moved events"
    integrates: "Epic 10, Epic 6"
    
  28-25-monaco-event-subscriptions: backlog
    priority: P1
    points: 3
    notes: "Monaco refreshes on file:modified events"
    integrates: "Epic 10, Epic 6"
    
  28-26-terminal-event-subscriptions: backlog
    priority: P1
    points: 3
    notes: "Terminal subscribes to process:output, process:exit events"
    integrates: "Epic 10, Epic 6"
  
  # Tier 3: Multi-Agent UX (Required for LangGraph orchestration)
  28-28-agent-status-indicator: backlog
    priority: P1
    points: 3
    notes: "AgentStatusIndicator showing which agent is active (Orchestrator/Planner/Coder/Validator)"
    integrates: "Epic 25-1, Epic 26-4"
    
  28-29-workflow-progress-indicator: backlog
    priority: P1
    points: 3
    notes: "WorkflowProgress showing visual progress through agent chain"
    integrates: "Epic 26-4"
    
  28-30-agent-conversation-thread: backlog
    priority: P1
    points: 5
    notes: "AgentConversationThread with messages grouped by agent"
    integrates: "Epic 26-4"
  
  # Tier 4: Multi-Interface Skeleton Containers
  28-31-role-selector-component: backlog
    priority: P2
    points: 3
    notes: "RoleSelector to switch between PM/Designer/Dev/QA modes"
    integrates: "Epic 26"
    
  28-32-workflow-canvas-skeleton: backlog
    priority: P2
    points: 3
    notes: "WorkflowCanvas skeleton for future visual agent pipeline editor"
    integrates: "Epic 26-4"
    
  28-33-settings-layout-skeleton: backlog
    priority: P2
    points: 3
    notes: "SettingsLayout skeleton for /settings route (LLM providers, preferences)"
    integrates: "Epic 26-5"
    
  28-34-provider-status-panel: backlog
    priority: P2
    points: 3
    notes: "ProviderStatusPanel showing API key configuration status per provider"
    integrates: "Epic 25, Epic 26-5"
    
  28-35-asset-panel-skeleton: backlog
    priority: P2
    points: 3
    notes: "AssetPanel skeleton for future Asset Studio integration"
    integrates: "Epic 36"
  
  epic-28-retrospective: optional
    notes: "Run after Epic 28 completion - Phase 6 expanded scope for AI Foundation"

  epic-11: absorbed

    absorbed_into: epic-27
    absorbed_at: "2025-12-22T02:00:00+07:00"
    notes: "Stories 11-5, 11-6, 11-7 moved to Epic 27 Phase 2 as 27-5a, 27-5b, 27-5c"
  11-1-extract-pathguard-module: done
  11-2-extract-directorywalker-module: done
  11-3-extract-syncplanner-module: done
  11-4-extract-syncexecutor-module: done
  11-5-create-layoutshell-component: absorbed
    absorbed_as: 27-5a
  11-6-extract-usexterminal-hook: absorbed
    absorbed_as: 27-5b
  11-7-extract-filetreedatasource: absorbed
    absorbed_as: 27-5c
  epic-11-retrospective: optional


  # =============================================================================
  # EPIC 12: AI Tool Interface Layer [P1 - BACKLOG]
  # =============================================================================
  # Prerequisite for Epic 6 (AI Agent Integration)
  # =============================================================================
  epic-12: backlog
  12-1-create-agentfiletools-facade: backlog
  12-2-create-agentterminaltools-facade: backlog
  12-3-create-agentsynctools-facade: backlog
  12-4-create-agentgittools-facade-stub: backlog
  12-5-wire-facades-to-tanstack-ai-tools: backlog
  epic-12-retrospective: optional

  # =============================================================================
  # EPIC 6: AI Agent Integration [P1 - BACKLOG]
  # Blocked by: Epic 12 (Agent Tool Interface Layer)
  # =============================================================================
  epic-6: backlog
  6-1-set-up-tanstack-ai-chat-endpoint: backlog
  6-2-implement-useagentchat-hook: backlog
  6-3-implement-file-tools: backlog
  6-4-implement-terminal-tool: done
  6-5-wire-tool-execution-to-ui: done
  epic-6-retrospective: optional

  # =============================================================================
  # EPIC 7: Git Integration [P2 - BACKLOG]
  # =============================================================================
  epic-7: backlog
  7-1-implement-fsa-git-adapter: backlog
  7-2-implement-git-status-display: backlog
  7-3-implement-git-stage-commit: backlog
  7-4-implement-git-agent-tools: backlog
  epic-7-retrospective: optional

  # =============================================================================
  # EPIC 8: Validation & Polish [P3 - BACKLOG]
  # =============================================================================
  epic-8: backlog
  8-1-implement-dashboard-ui: backlog
  8-2-implement-api-key-setup: backlog
  8-3-execute-14-step-validation: backlog
  8-4-performance-optimization: backlog
  8-5-error-handling-polish: backlog
  8-6-fix-xterminal-fit-lifecycle-console-error: backlog
  8-7-fix-vitest-shutdown-hanging-handles: backlog
  8-8-create-project-alpha-e2e-verification-checklist: backlog
  epic-8-retrospective: optional

  # =============================================================================
  # EPIC 4.5: Project Fugu Enhancements [P3 - BACKLOG]
  # =============================================================================
  epic-4-5: backlog
  4-5-1-enhanced-fsa-permission-persistence: backlog
  4-5-2-file-watcher-polling-implementation: backlog
  4-5-3-async-clipboard-with-syntax-highlighting: backlog
  4-5-4-build-status-badging: backlog
  4-5-5-local-font-selection: backlog
  4-5-6-project-snippet-sharing: backlog
  epic-4-5-retrospective: optional

  # =============================================================================
  # EPIC 9: Multi-Root Workspace Support [P4 - POST-MVP]
  # =============================================================================
  epic-9: backlog
  9-1-implement-workspace-file-format: backlog
  9-2-implement-multi-root-filetree: backlog
  9-3-implement-multi-root-sync-manager: backlog
  9-4-implement-multi-git-repository-support: backlog
  9-5-handle-git-submodules: backlog
  9-6-implement-workspace-state-synchronization: backlog
  9-7-implement-workspace-aware-agent-tools: backlog
  epic-9-retrospective: optional

  # =============================================================================
  # EPIC 14: IDE Theming & Accessibility [P3 - BACKLOG]
  # Transformed from legacy Epic 12 (Course Correction v6)
  # =============================================================================
  epic-14: backlog
  14-1-implement-dark-light-theme-toggle: backlog
  14-2-add-high-contrast-accessibility-theme: backlog
  14-3-implement-keyboard-navigation-map: backlog
  14-4-add-screen-reader-announcements: backlog
  14-5-implement-reduced-motion-mode: backlog
  epic-14-retrospective: optional

  # =============================================================================
  # EPIC 15: Performance & Optimization [P3 - BACKLOG]
  # Transformed from legacy Epic 13 (Course Correction v6)
  # =============================================================================
  epic-15: backlog
  15-1-lazy-load-monaco-editor: backlog
  15-2-implement-virtual-scrolling-for-file-tree: backlog
  15-3-add-service-worker-for-asset-caching: backlog
  15-4-implement-performance-metrics-dashboard: backlog
  15-5-webcontainer-memory-management: backlog
  epic-15-retrospective: optional

  # =============================================================================
  # EPIC 16: Test Framework & Quality Gates [P2 - BACKLOG]
  # Transformed from legacy Epic 14 (Course Correction v6)
  # =============================================================================
  epic-16: backlog
  16-1-formalize-vitest-unit-test-patterns: backlog
  16-2-create-localfsadapter-mock: backlog
  16-3-implement-playwright-e2e-for-validation-sequence: backlog
  16-4-create-webcontainer-boot-benchmark: backlog
  16-5-add-lighthouse-ci-for-accessibility: backlog
  epic-16-retrospective: optional

  # =============================================================================
  # EPIC 17: Open-Source Documentation [P3 - BACKLOG]
  # Transformed from legacy Epic 15 (Course Correction v6)
  # =============================================================================
  epic-17: backlog
  17-1-create-contributing-md: backlog
  17-2-generate-tsdoc-api-documentation: backlog
  17-3-create-architecture-diagram-in-readme: backlog
  17-4-add-storybook-for-ui-components: backlog
  17-5-create-interactive-tutorial: backlog
  epic-17-retrospective: optional

  # =============================================================================
  # EPIC 18: Static Deployment & PWA [P2 - BACKLOG]
  # Transformed from legacy Epic 16 (Course Correction v6)
  # =============================================================================
  epic-18: backlog
  18-1-configure-production-build: backlog
  18-2-add-github-actions-for-deployment: backlog
  18-3-implement-pwa-manifest: backlog
  18-4-add-client-side-error-logging: backlog
  18-5-create-coop-coep-header-guide: backlog
  epic-18-retrospective: optional

  # =============================================================================
  # EPIC 19: Client-Side Security [P2 - BACKLOG]
  # Transformed from legacy Epic 17 (Course Correction v6)
  # =============================================================================
  epic-19: backlog
  19-1-implement-secure-api-key-storage: backlog
  19-2-configure-content-security-policy: backlog
  19-3-create-fsa-permission-audit-trail: backlog
  19-4-implement-secrets-detection-before-commit: backlog
  19-5-add-security-headers-verification-in-ci: backlog
  epic-19-retrospective: optional

  # =============================================================================
  # EPIC 20: Advanced IDE Features [P4 - BACKLOG]
  # Transformed from legacy Epic 18 (Course Correction v6)
  # =============================================================================
  epic-20: backlog
  20-1-implement-offline-mode-with-indexeddb-fallback: backlog
  20-2-create-extension-plugin-system-architecture: backlog
  20-3-add-workspace-snapshots-time-travel: backlog
  20-4-implement-multi-cursor-column-selection: backlog
  20-5-add-command-palette-history-favorites: backlog
  epic-20-retrospective: optional

  # =============================================================================
  # EPIC 21: Client-Side Localization (EN/VI) [P2 - BACKLOG]
  # =============================================================================
  epic-21: in-progress
  21-1-locale-aware-routing-and-html-lang: done
  21-2-i18n-infrastructure-and-bundles: backlog
  21-3-language-switcher-and-persistence: done
  21-4-ui-migration-wave-1-navigation-shell: backlog
  21-5-ui-migration-wave-2-ide-surfaces: done
  21-6-formatting-and-rtl-readiness: backlog
  21-7-tests-and-lint-guardrails: backlog
  21-8-complete-localization-coverage: done
  epic-21-retrospective: optional

  # =============================================================================
  # EPIC 7+: Git Integration Extended [P3 - BACKLOG]
  # Merged from legacy Epic 19 (Course Correction v6)
  # =============================================================================
  epic-7-extended: backlog
  7-5-implement-git-branch-switching-ui: backlog
  7-6-add-visual-merge-conflict-resolution: backlog
  7-7-implement-git-history-timeline-view: backlog
  7-8-add-github-pr-preview: backlog
  epic-7-extended-retrospective: optional

  # =============================================================================
  # EPIC 24: Smart Dependency Sync [P1 - NEW]
  # =============================================================================
  # Priority: P1 - High (Productivity improvement)
  # Added: 2025-12-21 - From node-module-sync-2025-12-21.md analysis
  # Effort: M (1 week)
  # =============================================================================
  epic-24: backlog
  24-1-create-sync-configuration-layer: backlog
  24-2-implement-dependency-analysis-engine: backlog
  24-3-batched-sync-with-progress: backlog
  24-4-user-permission-dialog-flow: backlog
  24-5-terminal-integration-detect-install: backlog
  epic-24-retrospective: optional

  # =============================================================================
  # EPIC 25: AI Foundation Sprint [P0 - NEW - CRITICAL]
  # =============================================================================
  # Priority: P0 - CRITICAL (Core value proposition, 0% implemented)
  # Added: 2025-12-21 - From tech-debt-architecture-gaps-report.md
  # Effort: M-L (2 weeks)
  # Dependencies: Epic 10 (event wiring), TanStack AI 0.1.0
  # =============================================================================
  epic-25: ready
  25-1-tanstack-ai-integration-setup: backlog
  25-2-implement-file-tools-read-write-list: backlog
  25-3-implement-terminal-tool-execute-command: backlog
  25-4-wire-tool-execution-to-event-bus: backlog
  25-5-implement-approval-flow-ui: backlog
  25-6-integrate-ai-devtools: backlog
  epic-25-retrospective: optional

  # =============================================================================
  # EPIC 26: Agent Management Dashboard [P1 - NEW]
  # =============================================================================
  # Priority: P1 - High (UX for AI features)
  # Added: 2025-12-21 - From ux-specification-2025-12-21.md
  # Effort: L (2 weeks)
  # Dependencies: Epic 25 (AI Foundation)
  # =============================================================================
  epic-26: backlog
  26-1-dashboard-layout-and-navigation: backlog
  26-2-agent-list-configuration-forms: backlog
  26-3-tool-registry-ui: backlog
  26-4-workflow-visual-editor: backlog
  26-5-llm-provider-management: backlog
  26-6-analytics-dashboard: backlog
  epic-26-retrospective: optional

# =============================================================================
# SUMMARY METRICS (Updated 2025-12-22)
# =============================================================================
summary:
  total_epics: 28  # +3 new (24, 25, 26)
  total_stories: 162  # +17 new stories, +5 corrected Epic 10
  epics_done: 7  # Epic 10 corrected to in-progress, Phase 2 added as done
  epics_in_progress: 4  # Epic 10, 11, 22, 23
  epics_ready: 1  # Epic 25 (AI Foundation)
  epics_backlog: 16  # Reduced by 1 (Phase 2 complete)
  stories_done: 44  # Added Phase 2 architectural analysis completion (4 docs + 1 completion report)
  stories_in_progress: 2
  stories_backlog: 116
  
  priority_breakdown:
    p0: 2  # Epic 22 (Production), Epic 25 (AI Foundation) ‚Üê NEW
    p1: 5  # Epics 12, 6, 23, 24, 26 ‚Üê UPDATED
    p2: 6  # Epics 7, 11, 16, 18, 19, 21
    p3: 7  # Epics 8, 4.5, 14, 15, 17, 7+
    p4: 2  # Epics 9, 20
  
  phase_completion:
    phase_1_stability: "COMPLETE"  # Epic 13 DONE, Epic 22 DONE, Epic 23 IN_PROGRESS
    phase_2_architectural_slices: "COMPLETE"  # Phase 2 analysis done
    phase_3_ai_foundation: "READY"  # Epic 25 ready to start

# =============================================================================
# IMPLEMENTATION ORDER (AI-First - Updated 2025-12-22)
# =============================================================================
implementation_order:
  phase_1_stability:  # ‚úÖ COMPLETE
    - epic-13  # Terminal & Sync Stability [DONE]
    - epic-22  # Production Hardening [DONE]
    - epic-23  # UX Modernization [IN_PROGRESS]
    status: "COMPLETE"
    notes: "Epic 22 DONE, Epic 23 ongoing (Platform B), Epic 13 DONE"
  
  phase_2_architectural_analysis:  # ‚úÖ COMPLETE
    - phase-2-architectural-slices  # Architectural Slices Analysis [DONE]
    status: "COMPLETE"
    notes: "Phase 2 Architectural Slices analysis completed 2025-12-22. 4 comprehensive documents created."
  
  phase_3_ai_foundation:  # üî¥ PRIORITY - Core Value
    - epic-25  # AI Foundation Sprint [P0 - READY]
    - epic-12  # AI Tool Interface Layer [P1]
    - epic-6   # AI Agent Integration [P1]
    status: "READY"
    notes: "Phase 2 analysis complete. Epic 25 (AI Foundation) is P0 CRITICAL and 0% implemented. Start immediately."
  
  phase_4_productivity:
    - epic-24  # Smart Dependency Sync [P1 - NEW]
    - epic-26  # Agent Management Dashboard [P1 - NEW]
    status: "PENDING"
    notes: "Depends on Epic 25 completion"
  
  phase_5_state_stabilization:
    - epic-27  # State Architecture Stabilization [IN_PROGRESS]
    - epic-10  # Event Bus Architecture [INCOMPLETE - needs wiring]
    status: "IN_PROGRESS"
    notes: "Epic 27 in progress (Platform A), Epic 10 needs wiring"
  
  phase_6_full_workflow:
    - epic-7           # Git Integration [P2]
    - epic-7-extended  # Git Extensions [P3]
    - epic-11          # Code Splitting [P2]
    status: "PENDING"
  
  phase_7_quality:
    - epic-16  # Test Framework [P2]
    - epic-18  # Static Deployment [P2]
    - epic-19  # Client-Side Security [P2]
    status: "PENDING"
  
  phase_8_polish:
    - epic-14  # Theming & Accessibility [P3]
    - epic-15  # Performance [P3]
    - epic-17  # Documentation [P3]
    - epic-8   # Validation & Polish [P3]
    - epic-4-5 # Project Fugu [P3]
    status: "PENDING"
  
  phase_9_advanced:
    - epic-9   # Multi-Root Workspaces [P4]
    - epic-20  # Advanced IDE Features [P4]
    status: "PENDING"

# =============================================================================
# NEXT ACTIONS (Updated 2025-12-22)
# =============================================================================
next_actions:
  completed:
    - action: "Phase 2 Architectural Slices Analysis"
      status: done
      date: "2025-12-22"
      notes: |
        - Runtime Architecture Slice: architecture.md with C4-style diagrams
        - Data & Contracts Slice: data-and-contracts-2025-12-22-1105.md with entity tables
        - Control & Workflow Slice: flows-and-workflows-2025-12-22-1121.md with sequence diagrams
        - Dependency & Tech Context Slice: tech-context-2025-12-22-1127.md with dependency analysis
        - Completion Report: phase2-architectural-slices-completion-2025-12-22-1132.md
      
    - action: "Story 13-1 (Fix Terminal Working Directory)"
      status: done
      date: "2025-12-20"
      
    - action: "Story 13-3 (Add Sync Progress Indicator)"
      status: done
      date: "2025-12-20"
      notes: "Tooltip, toast warning, 11 new tests"
      
    - action: "Governance Documents Overhaul"
      status: done
      date: "2025-12-21"
      notes: |
        - Sharded architecture.md (23 files ‚Üí _bmad-output/architecture/)
        - Sharded epics.md (37 files ‚Üí _bmad-output/epics/)
        - Sharded & renamed ux-specification (10 files ‚Üí _bmad-output/ux-specification/)
        - Updated all 15 standards files (frontend/, global/, backend/, testing/)
        - Added Epic 10 stories 10-6, 10-7 (event wiring)
        - Added Epics 24, 25, 26 (Smart Sync, AI Foundation, Agent Dashboard)
        - Created mcp-research.md protocol document
        - Updated AGENTS.md with mandatory MCP research callout
      
  immediate:
    - action: "Start Epic 25 (AI Foundation Sprint) - P0 CRITICAL"
      command: "/bmad-bmm-workflows-create-story"
      priority: P0
      story: "25-1"
      notes: "Phase 2 analysis complete, Epic 22 DONE, Epic 23 IN_PROGRESS, Epic 27 IN_PROGRESS. AI Foundation is core value proposition and 0% implemented. Start with Story 25-1 (TanStack AI Integration Setup)."
      
    - action: "Continue Epic 23 (UX Modernization) - Platform B"
      command: "/bmad-bmm-workflows-dev-story"
      priority: P1
      story: "23-6"
      notes: "Migrate Form Dialog Components - Platform B continues Epic 23 Story 23-6"
      
    - action: "Continue Epic 27 (State Architecture Stabilization) - Platform A"
      command: "/bmad-bmm-workflows-dev-story"
      priority: P0
      story: "27-5b"
      notes: "Refactor Sync Manager - Complete state migration integration"
      
  then:
    - action: "Complete Epic 10 Event Wiring"
      command: "/bmad-bmm-workflows-dev-story"
      priority: P1
      notes: "Stories 10-6, 10-7 - Make events actually emit"
      
    - action: "Start Epic 24 (Smart Dependency Sync)"
      command: "/bmad-bmm-workflows-create-story"
      priority: P1
      notes: "After Epic 25 foundation established"
      
    - action: "Start Epic 26 (Agent Management Dashboard)"
      command: "/bmad-bmm-workflows-create-story"
      priority: P1
      notes: "Depends on Epic 25 AI Foundation completion"

# =============================================================================
# GOVERNANCE DOCUMENT SHARDING (2025-12-21)
# =============================================================================
document_sharding:
  enabled: true
  tool: "@kayvan/markdown-tree-parser"
  
  architecture:
    original: "_bmad-output/archive/architecture.md"
    sharded_to: "_bmad-output/architecture/"
    index: "_bmad-output/architecture/index.md"
    files: 23
    sections: 22
    
  epics:
    original: "_bmad-output/archive/epics.md"
    sharded_to: "_bmad-output/epics/"
    index: "_bmad-output/epics/index.md"
    files: 37
    sections: 36
    
  ux_specification:
    original: "_bmad-output/proposal/ux-specification-2025-12-21.md"
    sharded_to: "_bmad-output/ux-specification/"
    index: "_bmad-output/ux-specification/index.md"
    files: 10
    sections: 9
